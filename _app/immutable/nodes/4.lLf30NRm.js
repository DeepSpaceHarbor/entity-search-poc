import"../chunks/DsnmJJEf.js";import"../chunks/DxtG4Upz.js";import{o as ge,s as U}from"../chunks/CzjZKcAM.js";import{w as ve,x as b,y as u,z as ye,A as t,B as x,D as n,o as s,E as l,F as a,G as E,t as W,I as q,J as ne,K as be}from"../chunks/Bo1xW5pA.js";import{i as _}from"../chunks/CuXdT1TN.js";import{s as xe}from"../chunks/BEni3J3N.js";import{p as we,C as ke,H,j as K,i as X,b as _e}from"../chunks/l8SZmy-3.js";import{i as Se}from"../chunks/CCtZKNap.js";const Je={jobTitles:["string"],excludedJobTitles:["string"],location:["string"],excludedLocations:["string"],seniorityLevels:["string"],excludedSeniorityLevels:["string"],yearsInCurrentRole:{min:0,max:0},yearsAtCurrentCompany:{min:0,max:0},universities:["string"],excludedUniversities:["string"],name:["string"],skills:["string"],excludedSkills:["string"]},Te=`
Your job is to convert the user query into JSON and apply the filters (only if available). This is a json file meant to search through a database of people.
Additional rules:
If the skills are empty, try to infer them from the job title.
The json template of the filters is: ${JSON.stringify(Je)}.
Don't include any fields that are not in the template.
If you don't have information for a field, leave it empty or set to 0 (for numbers).
If you see information that indicates filter for a company (like company size, industry, etc.), ignore that information.
Don't include any explanations, only respond with the JSON file.
`,Ne={coreSkills:["string"],specializedSkills:["string"],technicalSkills:["string"],transferableSkills:["string"],toolsAndPlatforms:["string"]},Oe=`
Your job is to parse JSON that contains a description of a person and improve the "skills" field.
You should enhance the list of skills by adding any relevant or related skills that might be missing.
Think about related tools and technologies commonly associated with the provided skills.
Think about related methodologies commonly associated with the provided skills.
Think about related frameworks commonly associated with the provided skills.
Think about skills that professionals in similar roles often possess.
Think about skills that would enhance the person's effectiveness in their role.
Always consider industry trends and best practices. Use modern skills that are relevant to the person's role.
Always use the job title and other fields in the original JSON to infer any additional skills that would be relevant for the role.
If you don't think any skills are missing, just return the original list.
The json template of the skills is: ${JSON.stringify(Ne)}.
Don't include any fields that are not in the template.
If you don't have information for a field, leave it empty.
Don't include any explanations, only respond with the skills JSON file.
`,je={companyNames:["string"],excludedCompanyNames:["string"],headcount:{min:0,max:0},industries:["string"],excludedIndustries:["string"],companyType:["partnership","public","private","nonprofit","government","self-employed"],excludedCompanyTypes:["string"],location:["string"],excludedLocations:["string"],companySpecialties:["string"]},Ce=`
Your job is to parse a description of a person and identify relevant company search filters based on that description.
Consider factors such as industry, company size (headcount), company type, location, and specialties that would align with the person's profile.
Generate a JSON file that includes these company search filters. This is a json file meant to search through a database of companies.
The json template of the filters is: ${JSON.stringify(je)}.
Don't include any fields that are not in the template.
If you don't have information for a field, leave it empty or set to 0 (for numbers).
If you see information that indicates filter for a person (like job title, skills, etc.), ignore that information.
Important: For fields that specify list of values (such as companyType, etc.), use only the values provided in the template.
Don't include any explanations, only respond with the JSON file.
`;var Ie=b('<span class="loading loading-xl loading-infinity"></span>'),Re=b('<div class="flex h-[80vh] w-full items-start justify-evenly gap-3 overflow-hidden px-4"><div class="flex h-full w-1/2 flex-col items-start"><h3 class="mb-2 text-2xl text-base-content">Generated User Filters</h3> <div class="h-full w-full overflow-auto rounded-2xl border-25 border-solid border-neutral shadow"><!></div></div> <div class="flex h-full w-1/2 flex-col items-start"><h3 class="mb-2 text-2xl text-base-content">Generated company filters</h3> <div class="h-full w-full overflow-auto rounded-2xl border-25 border-solid border-neutral shadow"><!></div></div> <div class="flex h-full w-1/2 flex-col items-start"><h3 class="mb-2 text-2xl text-base-content">Recommended Skills</h3> <div class="h-full w-full overflow-auto rounded-2xl border-25 border-solid border-neutral shadow"><!></div></div></div> <div class="flex grow flex-col"><p class="text-base text-base-content/50"> </p></div> <button class="btn my-2.5 btn-gradient btn-neutral"><span class="icon-[arcticons--improvementroll] size-4.5 shrink-0"></span> New Query ?</button>',1),Me=b('<div class="alert max-w-fit alert-error" role="alert">Oops! It seems there was an unexpected error. Please reload the page and try again.</div>'),ze=b('<h3 class="mb-1 text-2xl text-base-content">Loading model</h3> <div class="radial-progress border-4 border-transparent bg-neutral/10 text-neutral" role="progressbar" aria-label="Neutral Radial Progressbar"> </div> <h5 class="text-lg font-semibold text-base-content"> </h5>',1),Ee=b('<textarea class="h-full grow" placeholder="Describe your ideal customer..."></textarea>'),Pe=b('<div class="flex grow flex-col"><p class="text-base text-base-content/50"> </p></div>'),De=b('<button class="btn mt-2 ml-4 size-16 shrink-0 btn-gradient align-middle btn-accent" aria-label="Stop recording"><span class="icon-[icomoon-free--stop] size-4.5 shrink-0"></span></button>'),Ae=b('<button class="btn mx-4 mt-2 size-16 shrink-0 btn-gradient align-middle btn-accent" aria-label="Start recording"><span class="icon-[tabler--microphone-filled] size-4.5 shrink-0"></span></button>'),Fe=b('<h2 class="mb-4 flex items-center align-middle text-3xl text-base-content">What are we looking for today?</h2> <div class="textarea flex min-h-[10%] max-w-lg items-center"><!> <!></div> <div class="mt-4 flex w-auto items-center justify-center gap-1 align-middle"><button class="btn btn-gradient btn-primary"><span class="icon-[oui--generate] size-4.5 shrink-0"></span> Transform query into filters</button></div>',1),Ue=b('<div class="flex h-screen max-h-screen flex-col items-center justify-center bg-base-200"><!> <!> <!> <!></div>');function He(ae,oe){ve(oe,!1);let N,S=x(!0),P=x(0),D=x(""),J=x("Senior react.js developers with 5+ years of experience in San Francisco working at mid-size tech companies."),A=x(""),F=x(""),Z=x(""),C=x(!1),m=null,c=x("initial"),T=[];const $=!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window);async function G(){try{t(c,"initial"),t(S,!0),t(P,0),t(D,"");const e=we.model_list.find(r=>r.model_id==="Llama-3.1-8B-Instruct-q4f16_1-MLC-1k");if(!e)throw new Error("Model record not found in prebuilt app config");N=await ke(e.model_id,{initProgressCallback:r=>{t(P,Math.floor(r.progress*100)),t(D,r.text),r.progress===1&&(t(D,"Model loaded successfully! Initializing UI..."),setTimeout(()=>{t(S,!1),t(c,"initial")},3e3))},appConfig:{model_list:[e],useIndexedDBCache:!0}})}catch(e){console.error("Error creating MLCEngine:",e),t(S,!1),t(c,"error")}}async function Y(e=5){if(!N?.chat)return await G();try{const r={messages:[{role:"system",content:Te},{role:"user",content:s(J)},...T],temperature:.1,stream:!1},d=(await N.chat.completions.create(r)).choices.reduce((o,i)=>o+i.message.content,""),h=X(d);if(h){t(A,JSON.stringify(h,null,2));const o=h?.skills||[];if(o&&o.length>0){const i={messages:[{role:"system",content:Oe},{role:"user",content:s(A)}],temperature:.1,stream:!1},w=(await N.chat.completions.create(i)).choices.reduce((k,I)=>k+I.message.content,""),v=X(w);v?t(F,JSON.stringify(v,null,2)):t(F,"Failed to generate enhanced skills in valid JSON format.")}}else{if(e===0)throw new Error("Max attempts reached. Unable to get valid JSON response.");T=[...T,{role:"assistant",content:d},{role:"user",content:"The previous response was not valid JSON. Please respond only with valid JSON following the specified template."}],Y(e-1)}}catch(r){console.error("Error generating user and skills query:",r),e===0?(t(S,!1),t(c,"error")):Y(e-1)}}async function B(e=5){if(!N?.chat)return await G();try{const r={messages:[{role:"system",content:Ce},{role:"user",content:s(J)},...T],temperature:.1,stream:!1},d=(await N.chat.completions.create(r)).choices.reduce((o,i)=>o+i.message.content,""),h=X(d);if(h)t(Z,JSON.stringify(h,null,2));else{if(e===0)throw new Error("Max attempts reached. Unable to get valid JSON response.");T=[...T,{role:"assistant",content:d},{role:"user",content:"The previous response was not valid JSON. Please respond only with valid JSON following the specified template."}],B(e-1)}}catch(r){console.error("Error generating company search:",r),e===0?(t(S,!1),t(c,"error")):B(e-1)}}async function ie(e=5){try{t(c,"processing"),await Y(e),await B(e),t(c,"done")}catch(r){console.error("Error during runWorker:",r),t(S,!1),t(c,"error")}}async function le(){if($)return;t(C,!0);const e=window.SpeechRecognition||window.webkitSpeechRecognition;m=new e,m.continuous=!0,m.interimResults=!0,m.lang="en-US",m.onresult=r=>{let g="";for(let d of r.results)d.isFinal&&(g+=d[0].transcript+" ");t(J,g.trim())},m.onerror=r=>{console.error("Speech recognition error:",r.error)},m.onend=async()=>{t(C,!1)},m.start()}function ee(){s(C)&&m?m.stop():le()}function ce(){t(A,""),t(F,""),T=[],t(c,"initial")}ge(async()=>{t(c,"initial"),await G()}),Se();var L=Ue(),te=n(L);{var de=e=>{var r=Ie();u(e,r)};_(te,e=>{s(c)==="processing"&&e(de)})}var re=l(te,2);{var fe=e=>{var r=Re(),g=E(r),d=n(g),h=l(n(d),2),o=n(h);H(o,{get language(){return K},get code(){return s(A)}}),a(h),a(d);var i=l(d,2),f=l(n(i),2),w=n(f);H(w,{get language(){return K},get code(){return s(Z)}}),a(f),a(i);var v=l(i,2),k=l(n(v),2),I=n(k);H(I,{get language(){return K},get code(){return s(F)}}),a(k),a(v),a(g);var R=l(g,2),M=n(R),Q=n(M,!0);a(M),a(R);var p=l(R,2);W(()=>U(Q,s(J))),q("click",p,()=>{ce()}),u(e,r)};_(re,e=>{s(c)==="done"&&e(fe)})}var se=l(re,2);{var pe=e=>{var r=Me();u(e,r)};_(se,e=>{s(c)==="error"&&e(pe)})}var ue=l(se,2);{var he=e=>{var r=ne(),g=E(r);{var d=o=>{var i=ze(),f=l(E(i),2),w=n(f);a(f);var v=l(f,2),k=n(v,!0);a(v),W(()=>{xe(f,`--value:${s(P)??""};`),U(w,`${s(P)??""}%`),U(k,s(D))}),u(o,i)},h=o=>{var i=Fe(),f=l(E(i),2),w=n(f);{var v=p=>{var y=Ee();be(y),_e(y,()=>s(J),O=>t(J,O)),u(p,y)},k=p=>{var y=Pe(),O=n(y),V=n(O,!0);a(O),a(y),W(()=>U(V,s(J))),u(p,y)};_(w,p=>{s(C)?p(k,!1):p(v)})}var I=l(w,2);{var R=p=>{var y=ne(),O=E(y);{var V=j=>{var z=De();q("click",z,ee),u(j,z)},me=j=>{var z=Ae();q("click",z,ee),u(j,z)};_(O,j=>{s(C)?j(V):j(me,!1)})}u(p,y)};_(I,p=>{$||p(R)})}a(f);var M=l(f,2),Q=n(M);a(M),q("click",Q,()=>{ie()}),u(o,i)};_(g,o=>{s(S)?o(d):o(h,!1)})}u(e,r)};_(ue,e=>{s(c)==="initial"&&e(he)})}a(L),u(ae,L),ye()}export{He as component};
